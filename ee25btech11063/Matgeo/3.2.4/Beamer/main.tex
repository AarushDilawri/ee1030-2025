\documentclass{beamer}
\mode<presentation>
\usepackage{amsmath,amssymb,mathtools}
\usepackage{textcomp}
\usepackage{gensymb}
\usepackage{adjustbox}
\usepackage{subcaption}
\usepackage{enumitem}
\usepackage{multicol}
\usepackage{listings}
\usepackage{url}
\usepackage{graphicx} % <-- needed for images
\def\UrlBreaks{\do\/\do-}

\usetheme{Boadilla}
\usecolortheme{lily}
\setbeamertemplate{footline}{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=\paperwidth,ht=2ex,dp=1ex,right]{author in head/foot}%
    \insertframenumber{} / \inserttotalframenumber\hspace*{2ex}
  \end{beamercolorbox}}%
  \vskip0pt%
}
\setbeamertemplate{navigation symbols}{}

\lstset{
  frame=single,
  breaklines=true,
  columns=fullflexible,
  basicstyle=\ttfamily\tiny   % tiny font so code fits
}

\numberwithin{equation}{section}

% ---- your macros ----
\providecommand{\nCr}[2]{\,^{#1}C_{#2}}
\providecommand{\nPr}[2]{\,^{#1}P_{#2}}
\providecommand{\mbf}{\mathbf}
\providecommand{\pr}[1]{\ensuremath{\Pr\left(#1\right)}}
\providecommand{\qfunc}[1]{\ensuremath{Q\left(#1\right)}}
\providecommand{\sbrak}[1]{\ensuremath{{}\left[#1\right]}}
\providecommand{\lsbrak}[1]{\ensuremath{{}\left[#1\right.}}
\providecommand{\rsbrak}[1]{\ensuremath{\left.#1\right]}}
\providecommand{\brak}[1]{\ensuremath{\left(#1\right)}}
\providecommand{\lbrak}[1]{\ensuremath{\left(#1\right.}}
\providecommand{\rbrak}[1]{\ensuremath{\left.#1\right)}}
\providecommand{\cbrak}[1]{\ensuremath{\left\{#1\right\}}}
\providecommand{\lcbrak}[1]{\ensuremath{\left\{#1\right.}}
\providecommand{\rcbrak}[1]{\ensuremath{\left.#1\right\}}}
\theoremstyle{remark}
\newtheorem{rem}{Remark}
\newcommand{\sgn}{\mathop{\mathrm{sgn}}}
\providecommand{\abs}[1]{\left\vert#1\right\vert}
\providecommand{\res}[1]{\Res\displaylimits_{#1}}
\providecommand{\norm}[1]{\lVert#1\rVert}
\providecommand{\mtx}[1]{\mathbf{#1}}
\providecommand{\mean}[1]{E\left[ #1 \right]}
\providecommand{\fourier}{\overset{\mathcal{F}}{ \rightleftharpoons}}
\providecommand{\system}{\overset{\mathcal{H}}{ \longleftrightarrow}}
\providecommand{\dec}[2]{\ensuremath{\overset{#1}{\underset{#2}{\gtrless}}}}
\newcommand{\myvec}[1]{\ensuremath{\begin{pmatrix}#1\end{pmatrix}}}
\let\vec\mathbf

\title{Matgeo Presentation - Problem 3.2.4}
\author{ee25btech11063 - Vejith}

\begin{document}


\frame{\titlepage}
\begin{frame}{Question}
Construct the triangle BD$^{\prime}$C$^{\prime}$ similar to $\triangle$BDC with scale factor $\frac{4}{3}$.Draw the line segment D$^{\prime}$A$^{\prime}$. parallel to DA where A$^p$ prime lies on extended side BA.Is A$^{\prime}$BC$^{\prime}$D$^{\prime}$ a parallelogram?
\end{frame}

\begin{frame}{Description}
\textbf{Solution: }\\
\begin{table}[h!]    
  \centering
  \input{tables/table5.tex}
  \caption{Variables Used}
  \label{}
\end{table}
\end{frame}

\begin{frame}{Solution}
consider $\triangle$BDC.constructs a $\triangle$BD$^{\prime}C^{\prime}$
 with scale factor $\frac{4}{3}$.\\
This means 
\begin{align}
  \triangle BD^{\prime}C^{\prime} \sim \triangle BDC.\\
\frac{BD^{\prime}}{BD} \;=\; \frac{BC^{\prime}}{BC} \;=\; \frac{D^{\prime}C^{\prime}}{DC} \;=\; \frac{4}{3}.
\end{align}

So D$^{\prime}$ lies on extension of BD and C$^{\prime}$.\\
\textbf{Construct A$^{\prime}$}\\
Draw D$^{\prime}$A$^{\prime}$ $\parallel$ DA with A$^{\prime}$ on extension of BA.\\ \\
\textbf{Check the parallelogram property}\\
1.By construction    D$^{\prime}$A$^{\prime}$ $\parallel$ DA.\\
But since DA $\parallel$ C$^{\prime}$B(by similarity of triangles),we get:
\begin{align}
    D{^\prime}A^{\prime} \parallel BC^{\prime}.
\end{align}
2.A$^{\prime}$ lies on extended BA,we have :
\begin{align}
    A^{\prime}B \parallel D^{\prime}C^{\prime}.
\end{align}
\end{frame}

\begin{frame}{Conclusion}
Thus:
\begin{align}
    A^{\prime}B \parallel D^{\prime}C^{\prime}.\\
D{^\prime}A^{\prime} \parallel BC^{\prime}.
\end{align}
so,opposite sides are parallel.\\
$\implies$A$^{\prime}$BC$^{\prime}$D$^{\prime}$ is a parallelogram
\end{frame}

\begin{frame}{Plot}
    \begin{figure}[H]
    \centering
    \includegraphics[width=1.0\columnwidth]{figs/01.png}
    \label{fig-1}
\end{figure}
\end{frame}

% --------- CODE APPENDIX ---------
\section*{Appendix: Code}

% C program
\begin{frame}[fragile]{C Code: triangle.c}
\begin{lstlisting}[language=C]
/* triangle.c
   - writes points to "triangle.dat"
   - computes A' so that D'A' || DA and A' lies on extended BA
   - checks whether A' B C' D' is a parallelogram
*/
#include <stdio.h>
#include <math.h>

typedef struct { double x, y; } Point;

int areParallel(Point p1, Point p2, Point q1, Point q2) {
    double dx1 = p2.x - p1.x, dy1 = p2.y - p1.y;
    double dx2 = q2.x - q1.x, dy2 = q2.y - q1.y;
    return fabs(dy1 * dx2 - dy2 * dx1) < 1e-8;
}

int main(void) {
    FILE *fp = fopen("triangle.dat", "w");
    if (!fp) {
        perror("fopen");
        return 1;
    }

    /* Choose ABCD to be a parallelogram (so final shape will be a parallelogram).
       Example: rectangle/parallelogram with A=(0,0), B=(4,0), D=(0,3).
       Then C = B + D - A = (4,3).
    */
    Point A = {0.0, 0.0};
    Point B = {4.0, 0.0};
    Point D = {0.0, 3.0};
    Point C = { B.x + D.x - A.x, B.y + D.y - A.y }; /* ensures ABCD is parallelogram */

    double k = 4.0 / 3.0;
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]{C Code: triangle.c}
\begin{lstlisting}[language=C]
    /* BD'C' similar to BDC with scale factor k: D' = B + k*(D - B), C' = B + k*(C - B) */
    Point Dp = { B.x + k * (D.x - B.x), B.y + k * (D.y - B.y) };
    Point Cp = { B.x + k * (C.x - B.x), B.y + k * (C.y - B.y) };

    /* Solve for t where A' = B + t*(A - B) and D'A' || DA.
       Derivation:
         Let v = A - D.
         Let u(t) = (B - D') + t*(A - B).  (u = A' - D')
         Parallel condition: u.x * v.y - u.y * v.x = 0
       => t = [ (B.y - D'.y)*v.x - (B.x - D'.x)*v.y ]
              / [ (A.x - B.x)*v.y - (A.y - B.y)*v.x ]
    */
    double vx = A.x - D.x;
    double vy = A.y - D.y;
    double numerator  = (B.y - Dp.y) * vx - (B.x - Dp.x) * vy;
    double denominator = (A.x - B.x) * vy - (A.y - B.y) * vx;

    if (fabs(denominator) < 1e-12) {
        fprintf(stderr, "Denominator ~ 0: can't find unique A' (degenerate configuration)\n");
        fclose(fp);
        return 1;
    }

    double t = numerator / denominator;
    Point Ap = { B.x + t * (A.x - B.x), B.y + t * (A.y - B.y) };

    /* Write coordinates */
    fprintf(fp, "A  = (%.6f, %.6f)\n", A.x, A.y);
    fprintf(fp, "B  = (%.6f, %.6f)\n", B.x, B.y);
    fprintf(fp, "C  = (%.6f, %.6f)\n", C.x, C.y);
    fprintf(fp, "D  = (%.6f, %.6f)\n", D.x, D.y);
    fprintf(fp, "D' = (%.6f, %.6f)\n", Dp.x, Dp.y);
    fprintf(fp, "C' = (%.6f, %.6f)\n", Cp.x, Cp.y);
    \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{C Code: triangle.c}
\begin{lstlisting}[language=C]
    fprintf(fp, "A' = (%.6f, %.6f)\n", Ap.x, Ap.y);

    /* Check parallelogram: opposite sides parallel */
    int cond1 = areParallel(Ap, B, Dp, Cp); /* A'B || D'C' */
    int cond2 = areParallel(Ap, Dp, B, Cp); /* A'D' || B C' */

    if (cond1 && cond2) {
        fprintf(fp, "\nA'BC'D' is a parallelogram.\n");
        printf("A'BC'D' is a parallelogram.\n");
    } else {
        fprintf(fp, "\nA'BC'D' is NOT a parallelogram.\n");
        printf("A'BC'D' is NOT a parallelogram.\n");
    }

    fclose(fp);
    return 0;
}
 \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Python: plot.py}
\begin{lstlisting}[language=Python]
   import numpy as np
import matplotlib.pyplot as plt

# --- set up a non-rectangular parallelogram ABCD (so the plot won't look square)
A = np.array([0.0, 0.0])
B = np.array([4.0, 0.0])
D = np.array([1.0, 3.0])   # note: not (0,3) — this slants the shape
C = B + D - A              # ensures ABCD is a parallelogram

k = 4.0 / 3.0              # scale factor for triangle BD'C' similar to BDC

# scaled triangle BD'C'
Dp = B + k * (D - B)
Cp = B + k * (C - B)

# Solve for t where A' = B + t*(A - B) and (A' - D') is parallel to (A - D)
v = A - D   # vector DA (we use A - D so later we test parallelism with A' - D')
numerator   = (B[1] - Dp[1]) * v[0] - (B[0] - Dp[0]) * v[1]
denominator = (A[0] - B[0]) * v[1] - (A[1] - B[1]) * v[0]
if abs(denominator) < 1e-12:
    raise RuntimeError("Degenerate configuration: can't compute A' (denominator ~ 0).")
t = numerator / denominator
Ap = B + t * (A - B)

# small helper for 2D cross product (scalar)
def cross2(u, v):
    return u[0]*v[1] - u[1]*v[0]

# Check parallelogram: opposite sides parallel
vec_ApB  = B - Ap
vec_DpCp = Cp - Dp
vec_ApDp = Dp - Ap
vec_BCp  = Cp - B
\end{lstlisting}
\end{frame}  

\begin{frame}[fragile]{Python: plot.py}
\begin{lstlisting}[language=Python]
cond1 = abs(cross2(vec_ApB, vec_DpCp)) < 1e-8
cond2 = abs(cross2(vec_ApDp, vec_BCp)) < 1e-8
is_parallelogram = cond1 and cond2

print("Points:")
for name, p in [("A",A),("B",B),("C",C),("D",D),("D'",Dp),("C'",Cp),("A'",Ap)]:
    print(f"{name:3} = ({p[0]:.6f}, {p[1]:.6f})")
print("\nChecks:")
print(" A'B ∥ D'C' :", cond1)
print(" A'D' ∥ B C' :", cond2)
print("=> A'BC'D' is parallelogram?:", is_parallelogram)

# --- Plotting ---
plt.figure(figsize=(9,6))

# helper to plot and close polygons
def plot_poly(pts, style, label, z=1, lw=1.5):
    pts_closed = np.vstack([pts, pts[0]])
    plt.plot(pts_closed[:,0], pts_closed[:,1], style, label=label, linewidth=lw, zorder=z)

# triangles and parallelogram
plot_poly(np.array([B, D, C]),      '-o', "Δ B D C",       z=2, lw=1.5)
plot_poly(np.array([B, Dp, Cp]),    '--s', "Δ B D' C'",    z=2, lw=1.5)
plot_poly(np.array([Ap, B, Cp, Dp]), '-o', "Parallelogram A' B C' D'", z=3, lw=2)

# label points with offsets
pts = {"A":A,"B":B,"C":C,"D":D,"D'":Dp,"C'":Cp,"A'":Ap}
for name, p in pts.items():
    plt.scatter(p[0], p[1], s=60, zorder=5)
    plt.text(p[0] + 0.15, p[1] + 0.15, name, fontsize=10)

# set axis limits with margins so shape is clear
all_pts = np.vstack(list(pts.values()))
\end{lstlisting}
\end{frame}  

\begin{frame}[fragile]{Python: plot.py}
\begin{lstlisting}[language=Python]
xmin, ymin = all_pts.min(axis=0) - 1.0
xmax, ymax = all_pts.max(axis=0) + 1.0
plt.xlim(xmin, xmax)
plt.ylim(ymin, ymax)

plt.gca().set_aspect('equal', adjustable='box')
plt.grid(True)
plt.legend()
plt.title("Triangles BDC (solid), BD'C' (dashed) and Parallelogram A'BC'D'")
plt.tight_layout()

# save and show
plt.savefig("parallelogram_plot.png", dpi=200)
plt.show()
 \end{lstlisting}
\end{frame}  
\end{document}
