\documentclass{beamer}
\mode<presentation>
\usepackage{amsmath,amssymb,mathtools}
\usepackage{textcomp}
\usepackage{gensymb}
\usepackage{adjustbox}
\usepackage{subcaption}
\usepackage{enumitem}
\usepackage{multicol}
\usepackage{listings}
\usepackage{url}
\usepackage{graphicx} % <-- needed for images
\def\UrlBreaks{\do\/\do-}

\usetheme{Boadilla}
\usecolortheme{lily}
\setbeamertemplate{footline}{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=\paperwidth,ht=2ex,dp=1ex,right]{author in head/foot}%
    \insertframenumber{} / \inserttotalframenumber\hspace*{2ex}
  \end{beamercolorbox}}%
  \vskip0pt%
}
\setbeamertemplate{navigation symbols}{}

\lstset{
  frame=single,
  breaklines=true,
  columns=fullflexible,
  basicstyle=\ttfamily\tiny   % tiny font so code fits
}

\numberwithin{equation}{section}

% ---- your macros ----
\providecommand{\nCr}[2]{\,^{#1}C_{#2}}
\providecommand{\nPr}[2]{\,^{#1}P_{#2}}
\providecommand{\mbf}{\mathbf}
\providecommand{\pr}[1]{\ensuremath{\Pr\left(#1\right)}}
\providecommand{\qfunc}[1]{\ensuremath{Q\left(#1\right)}}
\providecommand{\sbrak}[1]{\ensuremath{{}\left[#1\right]}}
\providecommand{\lsbrak}[1]{\ensuremath{{}\left[#1\right.}}
\providecommand{\rsbrak}[1]{\ensuremath{\left.#1\right]}}
\providecommand{\brak}[1]{\ensuremath{\left(#1\right)}}
\providecommand{\lbrak}[1]{\ensuremath{\left(#1\right.}}
\providecommand{\rbrak}[1]{\ensuremath{\left.#1\right)}}
\providecommand{\cbrak}[1]{\ensuremath{\left\{#1\right\}}}
\providecommand{\lcbrak}[1]{\ensuremath{\left\{#1\right.}}
\providecommand{\rcbrak}[1]{\ensuremath{\left.#1\right\}}}
\theoremstyle{remark}
\newtheorem{rem}{Remark}
\newcommand{\sgn}{\mathop{\mathrm{sgn}}}
\providecommand{\abs}[1]{\left\vert#1\right\vert}
\providecommand{\res}[1]{\Res\displaylimits_{#1}}
\providecommand{\norm}[1]{\lVert#1\rVert}
\providecommand{\mtx}[1]{\mathbf{#1}}
\providecommand{\mean}[1]{E\left[ #1 \right]}
\providecommand{\fourier}{\overset{\mathcal{F}}{ \rightleftharpoons}}
\providecommand{\system}{\overset{\mathcal{H}}{ \longleftrightarrow}}
\providecommand{\dec}[2]{\ensuremath{\overset{#1}{\underset{#2}{\gtrless}}}}
\newcommand{\myvec}[1]{\ensuremath{\begin{pmatrix}#1\end{pmatrix}}}
\newcommand{\mydet}[1]{\ensuremath{\begin{vmatrix}#1\end{vmatrix}}}
\let\vec\mathbf
% ---------------------

\title{Matgeo Presentation - Problem 4.11.33}
\author{ee25btech11056 - Suraj.N}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}{Problem Statement}

Find the length of the intercept cut off by the plane $2x+y-z=5$ on the $X$ axis.

\end{frame}

\begin{frame}{Data}

\begin{table}[h!]
  \centering
  \input{tables/table.tex}
  \caption*{Table : Plane}
  \label{4.11.33}
\end{table}

\end{frame}

\begin{frame}{Solution}

The equation of plane is 
\begin{align}
  \vec{n}^\top\vec{x} &= c\\ 
  \myvec{2 & 1 & -1}\vec{x} &= 5
\end{align}

The $X$-intercept of the plane is of the form
\begin{align}
\vec{P} &= \myvec{a\\0\\0}.
\end{align}

$\vec{P}$ lies on the plane,
\begin{align}
\myvec{2 & 1 & -1}\vec{P} &= 5 \\
\myvec{2 & 1 & -1}\myvec{a\\0\\0} &= 5 \\
2a + 0 + 0 &= 5 \\
a &= \frac{5}{2}
\end{align}

\end{frame}

\begin{frame}

Thus, the intercept point is
\begin{align}
\vec{P} &= \myvec{\frac{5}{2}\\0\\0}
\end{align}

\textbf{Answer:} The intercept length is $\frac{5}{2}$.

\end{frame}

\begin{frame}{Plot}

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.8\columnwidth]{figs/intercept.png} 
   \caption*{Fig : Plane}
  \label{Fig1}
\end{figure}

\end{frame}

\section*{Appendix: Code}

% C program
\begin{frame}[fragile]{C Code: points.c}
\begin{lstlisting}[language=C]

#include <stdio.h>

double intercept(double n[], double c) {

  double a;

  a = (c / n[0]);

  return a;
}

\end{lstlisting}
\end{frame}

% Python calling C
\begin{frame}[fragile]{Python: call\_c.py}
\begin{lstlisting}[language=Python]

import ctypes
import sys
import os
import numpy as np 
import matplotlib.pyplot as plt 

#to save the figure in figs folder
figs_folder = os.path.join("..","figs")

#to load the shared object
lib = ctypes.CDLL("./points.so")

#defining the function signatures
lib.intercept.restype = ctypes.c_double
lib.intercept.argtypes = [ctypes.POINTER(ctypes.c_double),ctypes.c_double]

#normal vector and c 
n = (ctypes.c_double*3)(2,1,-1)
c = 5.0

#calling the c function 
x_intercept = lib.intercept(n,c)

#writing the x_intercept as a numpy array 
point = np.array([x_intercept,0,0])

#creating a meshgrid for the plane
x = np.linspace(-10,10,100)
y = np.linspace(-10,10,100)

x,y = np.meshgrid(x,y)

\end{lstlisting}
\end{frame}

% Python calling C
\begin{frame}[fragile]{Python: call\_c.py}
\begin{lstlisting}[language=Python]

#plane equation
z = (c - n[0]*x-n[1]*y)/n[2]

#plotting
fig=plt.figure(figsize=(8,6))
ax = fig.add_subplot(111,projection="3d")
ax.set_box_aspect([1,1,1])  # Fix aspect ratio : to enforce equal scaling across axes so that xintercept lies on x axis.

#plane
ax.plot_surface(x,y,z,alpha=0.5,color='blue',edgecolor='none')

#intercept point
ax.scatter(*point,color='red',s=2,label=f"P({x_intercept},0,0)")

#axes labels 
ax.set_xlabel("X Axis")
ax.set_ylabel("Y Axis")
ax.set_zlabel("Z Axis")
ax.set_title("Plane and X-intercept")

ax.legend()
ax.grid(True)

plt.tight_layout()
fig.savefig(os.path.join(figs_folder,"intercept.png"))
plt.show()

\end{lstlisting}
\end{frame}

%Only Python
\begin{frame}[fragile]{Python: plot.py}
\begin{lstlisting}[language=Python]

import os
import numpy as np 
import matplotlib.pyplot as plt 

#to save the figure in figs folder
figs_folder = os.path.join("..","figs")

#normal vector and c 
n = np.array([2,1,-1])
c = 5.0

#x intercept
x_intercept = c/n[0]

#writing the x_intercept as a numpy array 
point = np.array([x_intercept,0,0])

#creating a meshgrid for the plane
x = np.linspace(-10,10,100)
y = np.linspace(-10,10,100)

x,y = np.meshgrid(x,y)

#plane equation
z = (c - n[0]*x - n[1]*y)/n[2]

#plotting
fig=plt.figure(figsize=(8,6))
ax = fig.add_subplot(111,projection="3d")
ax.set_box_aspect([1,1,1])  # Fix aspect ratio : to enforce equal scaling across axes so that xintercept lies on x axis.

\end{lstlisting}
\end{frame}

%Only Python
\begin{frame}[fragile]{Python: plot.py}
\begin{lstlisting}[language=Python]

#plane
ax.plot_surface(x,y,z,alpha=0.5,color='blue',edgecolor='none')

#intercept point
ax.scatter(*point,color='red',s=2,label=f"P({x_intercept},0,0)")

#axes labels 
ax.set_xlabel("X Axis")
ax.set_ylabel("Y Axis")
ax.set_zlabel("Z Axis")
ax.set_title("Plane and X-intercept")

ax.legend()
ax.grid(True)

plt.tight_layout()
fig.savefig(os.path.join(figs_folder,"intercept.png"))
plt.show()

\end{lstlisting}
\end{frame}

\end{document}



