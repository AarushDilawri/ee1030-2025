\documentclass{beamer}
\mode<presentation>
\usepackage{amsmath,amssymb,mathtools}
\usepackage{textcomp}
\usepackage{gensymb}
\usepackage{adjustbox}
\usepackage{subcaption}
\usepackage{enumitem}
\usepackage{multicol}
\usepackage{listings}
\usepackage{url}
\usepackage{graphicx} % <-- needed for images
\def\UrlBreaks{\do\/\do-}

\usetheme{Boadilla}
\usecolortheme{lily}
\setbeamertemplate{footline}{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=\paperwidth,ht=2ex,dp=1ex,right]{author in head/foot}%
    \insertframenumber{} / \inserttotalframenumber\hspace*{2ex}
  \end{beamercolorbox}}%
  \vskip0pt%
}
\setbeamertemplate{navigation symbols}{}

\lstset{
  frame=single,
  breaklines=true,
  columns=fullflexible,
  basicstyle=\ttfamily\tiny   % tiny font so code fits
}

\numberwithin{equation}{section}

% ---- your macros ----
\providecommand{\nCr}[2]{\,^{#1}C_{#2}}
\providecommand{\nPr}[2]{\,^{#1}P_{#2}}
\providecommand{\mbf}{\mathbf}
\providecommand{\pr}[1]{\ensuremath{\Pr\left(#1\right)}}
\providecommand{\qfunc}[1]{\ensuremath{Q\left(#1\right)}}
\providecommand{\sbrak}[1]{\ensuremath{{}\left[#1\right]}}
\providecommand{\lsbrak}[1]{\ensuremath{{}\left[#1\right.}}
\providecommand{\rsbrak}[1]{\ensuremath{\left.#1\right]}}
\providecommand{\brak}[1]{\ensuremath{\left(#1\right)}}
\providecommand{\lbrak}[1]{\ensuremath{\left(#1\right.}}
\providecommand{\rbrak}[1]{\ensuremath{\left.#1\right)}}
\providecommand{\cbrak}[1]{\ensuremath{\left\{#1\right\}}}
\providecommand{\lcbrak}[1]{\ensuremath{\left\{#1\right.}}
\providecommand{\rcbrak}[1]{\ensuremath{\left.#1\right\}}}
\theoremstyle{remark}
\newtheorem{rem}{Remark}
\newcommand{\sgn}{\mathop{\mathrm{sgn}}}
\providecommand{\abs}[1]{\left\vert#1\right\vert}
\providecommand{\res}[1]{\Res\displaylimits_{#1}}
\providecommand{\norm}[1]{\lVert#1\rVert}
\providecommand{\mtx}[1]{\mathbf{#1}}
\providecommand{\mean}[1]{E\left[ #1 \right]}
\providecommand{\fourier}{\overset{\mathcal{F}}{ \rightleftharpoons}}
\providecommand{\system}{\overset{\mathcal{H}}{ \longleftrightarrow}}
\providecommand{\dec}[2]{\ensuremath{\overset{#1}{\underset{#2}{\gtrless}}}}
\newcommand{\myvec}[1]{\ensuremath{\begin{pmatrix}#1\end{pmatrix}}}
\let\vec\mathbf

\title{Matgeo Presentation - Problem 1.6.19}
\author{ai25btech11004 - Jaswanth}

\begin{document}


\frame{\titlepage}
\begin{frame}{Question}
The vectors $\lambda\hat{i}+\lambda\hat{j}+2\hat{k}$,$1\hat{i}+\lambda\hat{j}-1\hat{k}$ and $2\hat{i}-1\hat{j}+\lambda\hat{k}$ are coplanar if $\lambda$ = \\
\end{frame}

\begin{frame}{Description}
    \begin{table}[h!]
	\centering
	\input{tables/table.tex}
	\caption{variables used}
	\label{}
\end{table}
\end{frame}

\begin{frame}{Solution}
    Form the \(3\times3\) matrix whose columns are the given vectors:
\begin{align*}
A=\myvec{\lambda & 1 & 2\\
\lambda & \lambda & -1\\
2 & -1 & \lambda}.
\end{align*}
The three vectors are coplanar if the columns are linearly dependent, i.e. if there exists a nonzero vector
\(u=\myvec{x\\y\\z} \) with \(A u=0\).  Writing \(Au=0\) gives the system
\begin{align*}
\begin{cases}
\lambda x + y + 2z = 0,\\[4pt]
\lambda x + \lambda y - z = 0,\\[4pt]
2x - y + \lambda z = 0.
\end{cases}
\end{align*}

Subtract the first equation from the second to eliminate \(x\):
\begin{align*}
(\lambda x+\lambda y - z) - (\lambda x + y + 2z)=0
\implies (\lambda-1)y -3z =0
\implies z=\dfrac{\lambda-1}{3}\,y.
\end{align*}
\end{frame}

\begin{frame}{Solution}
Substitute this \(z\) into the first equation to express \(x\) in terms of \(y\):
\begin{align*}
\lambda x + y + 2\!\left(\frac{\lambda-1}{3}y\right)=0
\implies
\lambda x + \frac{2\lambda+1}{3}\,y = 0
\implies
x = -\frac{2\lambda+1}{3\lambda}\,y,
\end{align*}
(valid when \(\lambda\neq0\); the case \(\lambda=0\) is checked separately below).

Now substitute \(x\) and \(z\) (both expressed in terms of \(y\)) into the third equation:
\begin{align*}
2x - y + \lambda z = 0.
\end{align*}
Using \(x=-\dfrac{2\lambda+1}{3\lambda}y\) and \(z=\dfrac{\lambda-1}{3}y\) we get
\begin{align*}
-\,\frac{4\lambda+2}{3\lambda}\,y - y + \frac{\lambda(\lambda-1)}{3}\,y = 0.
\end{align*}
Multiply through by \(3\lambda\) and factor \(y\):
\begin{align*}
y\bigl(\lambda^3-\lambda^2-7\lambda-2\bigr)=0.
\end{align*}
A nontrivial solution requires \(y\neq0\), hence
\begin{align*}
\lambda^3-\lambda^2-7\lambda-2=0.
\end{align*}
\end{frame}

\begin{frame}{Solution}
Factor the cubic. One checks \(\lambda=-2\) is a root, and polynomial division yields
\begin{align*}
\lambda^3-\lambda^2-7\lambda-2=(\lambda+2)(\lambda^2-3\lambda-1).
\end{align*}
The quadratic factor has roots
\begin{align*}
\lambda=\frac{3\pm\sqrt{9+4}}{2}=\frac{3\pm\sqrt{13}}{2}.
\end{align*}

Finally check the special case \(\lambda=0\): the system becomes
\begin{align*}
\begin{cases}
y+2z=0,\\
-\,z=0,\\
2x-y=0,
\end{cases}
\end{align*}
which forces \(x=y=z=0\), so \(\lambda=0\) does \emph{not} give a nontrivial solution.

\begin{align*}
\boxed{\text{Therefore the vectors are coplanar exactly for }
\lambda=-2,\;\frac{3+\sqrt{13}}{2},\;\frac{3-\sqrt{13}}{2}.}
\end{align*}
\end{frame}

\begin{frame}{Plot}
    \begin{figure}[H]
    \centering
    \includegraphics[width=0.66\columnwidth]{figs/01.png}
    \label{fig-1}
\end{figure}
\end{frame}

% --------- CODE APPENDIX ---------
\section*{Appendix: Code}

% C program
\begin{frame}[fragile]{C Code: Vector.c}
\begin{lstlisting}[language=C]
#include <stdio.h>

int main() {
    FILE *fp;
    fp = fopen("vector.dat", "w");
    if (fp == NULL) {
        printf("Error opening file!\n");
        return 1;
    }

    // The determinant expansion:
    // | λ   λ   2 |
    // | 1   λ  -1 |
    // | 2  -1   λ |
    //
    // Det = -λ^3 + λ^2 + 5λ - 4

    fprintf(fp, "Determinant condition for coplanarity:\n");
    fprintf(fp, "(-λ^3 + λ^2 + 5λ - 4) = 0\n\n");

    fprintf(fp, "Checking integer values of λ from -10 to 10:\n");

    for (int lambda = -10; lambda <= 10; lambda++) {
        int val = -lambda*lambda*lambda + lambda*lambda + 5*lambda - 4;
        if (val == 0) {
            fprintf(fp, "λ = %d is a solution.\n", lambda);
        }
    }

    fclose(fp);
    printf("Results written to vector.dat\n");
    return 0;
}

    \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Python: plot.py}
\begin{lstlisting}[language=Python]
  import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D  # noqa: F401

# ----- Correct value -----
lam = -2  # correct λ

# Vectors
A = np.array([lam, lam, 2], dtype=float)
B = np.array([1, lam, -1], dtype=float)
C = np.array([2, -1, lam], dtype=float)

# Verify coplanarity via scalar triple product: A · (B × C) = 0
triple = float(np.dot(A, np.cross(B, C)))
print(f"Scalar triple product at λ={lam}: {triple:.6g} (0 => coplanar)")

# ----- Plot -----
fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

origin = np.zeros(3)

# Plot vectors from origin
ax.quiver(*origin, *A, length=1, normalize=False, label=f"A = {A}", color='r')
ax.quiver(*origin, *B, length=1, normalize=False, label=f"B = {B}", color='g')
ax.quiver(*origin, *C, length=1, normalize=False, label=f"C = {C}", color='b')

# Plot the plane spanned by B and C (shows A lies in this plane)
s = np.linspace(-1.2, 1.2, 20)
t = np.linspace(-1.2, 1.2, 20)
S, T = np.meshgrid(s, t)
plane = np.outer(S.ravel(), B) + np.outer(T.ravel(), C)
X = plane[:, 0].reshape(S.shape)
\end{lstlisting}
\end{frame}   

\begin{frame}[fragile]{Python: plot.py}
\begin{lstlisting}[language=Python]
Y = plane[:, 1].reshape(S.shape)
Z = plane[:, 2].reshape(S.shape)
ax.plot_surface(X, Y, Z, alpha=0.2, edgecolor='none')

# Aesthetic: equal aspect & limits
all_pts = np.vstack([origin, A, B, C, plane])
mins = all_pts.min(axis=0)
maxs = all_pts.max(axis=0)
ranges = maxs - mins
center = (maxs + mins) / 2
max_range = ranges.max() * 0.55 + 1e-9
ax.set_xlim(center[0]-max_range, center[0]+max_range)
ax.set_ylim(center[1]-max_range, center[1]+max_range)
ax.set_zlim(center[2]-max_range, center[2]+max_range)
ax.set_box_aspect([1,1,1])

ax.set_xlabel('X')
ax.set_ylabel('Y')
ax.set_zlabel('Z')
ax.set_title(f"Vectors A, B, C for λ = {lam} (coplanar)")

ax.legend(loc='upper left')

# ----- Save the figure -----
plt.savefig("vectors.png", dpi=300, bbox_inches='tight')

# Show on screen too (optional)
plt.show()

\end{lstlisting}
\end{frame}   

\end{document}
