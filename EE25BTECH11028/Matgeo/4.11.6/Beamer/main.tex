\documentclass{beamer}
\usepackage[utf8]{inputenc}

\usetheme{Madrid}
\usecolortheme{default}
\usepackage{amsmath,amssymb,amsfonts,amsthm}
\usepackage{txfonts}
\usepackage{tkz-euclide}
\usepackage{listings}
\usepackage{adjustbox}
\usepackage{array}
\usepackage{tabularx}
\usepackage{gvv}
\usepackage{lmodern}
\usepackage{circuitikz}
\usepackage{tikz}
\usepackage{graphicx}

\setbeamertemplate{page number in head/foot}[totalframenumber]

\usepackage{tcolorbox}
\tcbuselibrary{minted,breakable,xparse,skins}

\definecolor{bg}{gray}{0.95}
\DeclareTCBListing{mintedbox}{O{}m!O{}}{%
  breakable=true,
  listing engine=minted,
  listing only,
  minted language=#2,
  minted style=default,
  minted options={%
    linenos,
    gobble=0,
    breaklines=true,
    breakafter=,,
    fontsize=\small,
    numbersep=8pt,
    #1},
  boxsep=0pt,
  left skip=0pt,
  right skip=0pt,
  left=25pt,
  right=0pt,
  top=3pt,
  bottom=3pt,
  arc=5pt,
  leftrule=0pt,
  rightrule=0pt,
  bottomrule=2pt,

  colback=bg,
  colframe=orange!70,
  enhanced,
  overlay={%
    \begin{tcbclipinterior}
    \fill[orange!20!white] (frame.south west) rectangle ([xshift=20pt]frame.north west);
    \end{tcbclipinterior}},
  #3,
}
\lstset{
    language=C,
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue},
    stringstyle=\color{orange},
    commentstyle=\color{green!60!black},
    numbers=left,
    numberstyle=\tiny\color{gray},
    breaklines=true,
    showstringspaces=false,
}
%------------------------------------------------------------
%This block of code defines the information to appear in the
%Title page
\title %optional
{4.11.6}
\date{september 2025}
%\subtitle{A short story}

\author % (optional)
{J.NAVYASRI- EE25BTECH11028}

\begin{document}

\frame{\titlepage}
\begin{frame}{Question:}
Find the equation of the plane passing through the intersection of the planes 
\[
\myvec{r} \cdot (\hat{i} + \hat{j} + \hat{k}) = 1
\]
and 
\[
\myvec{r} \cdot (2\hat{i} + 3\hat{j} - \hat{k}) + 4 = 0
\]
and parallel to the $X$-axis. Hence, find the distance of the plane from the $X$-axis.
 
\end{frame}


\begin{frame}{Solution:}
    \subsection*{Step 1: Plane through the intersection of the two given planes}

The two given planes are
\begin{equation}
\Pi_1: x + y + z = 1
\end{equation}
\begin{equation}
\Pi_2: 2x + 3y - z + 4 = 0
\end{equation}

A plane passing through their intersection can be written as
\begin{equation}
\Pi: (x + y + z - 1) + \lambda (2x + 3y - z + 4) = 0
\end{equation}

Expanding:
\begin{equation}
x + y + z - 1 + \lambda(2x + 3y - z + 4) = 0
\end{equation}
\begin{equation}
x(1 + 2\lambda) + y(1 + 3\lambda) + z(1 - \lambda) + (-1 + 4\lambda) = 0
\end{equation}
\end{frame}

\begin{frame}
\subsection*{Step 2: Condition for the plane to be parallel to the $X$-axis}

A plane is parallel to the $X$-axis if the coefficient of $x$ is zero:
\begin{equation}
1 + 2\lambda = 0 \quad \Rightarrow \quad \lambda = -\frac{1}{2}
\end{equation}

\subsection*{Step 3: Substitute $\lambda = -\frac{1}{2}$}

\begin{equation}
y\left(1 + 3\left(-\frac{1}{2}\right)\right) + z\left(1 - \left(-\frac{1}{2}\right)\right) + \left(-1 + 4\left(-\frac{1}{2}\right)\right) = 0
\end{equation}
\begin{equation}
y(-\tfrac{1}{2}) + z(\tfrac{3}{2}) - 3 = 0
\end{equation}

Multiply through by 2:
\begin{equation}
- y + 3z - 6 = 0 \quad \Rightarrow \quad y - 3z + 6 = 0
\end{equation}
\end{frame}

\begin{frame}
So, the required plane is
\begin{equation}
\boxed{y - 3z + 6 = 0}
\end{equation}
\subsection*{Step 4: Distance from the $X$-axis}

The $X$-axis is the line $y = 0, z = 0$.  

Distance from a plane $y - 3z + 6 = 0$ to a point $(0,0,0)$ on the $X$-axis is
\begin{equation}
d = \frac{|y_0 - 3 z_0 + 6|}{\sqrt{1^2 + (-3)^2}} = \frac{|0 - 0 + 6|}{\sqrt{1 + 9}} = \frac{6}{\sqrt{10}}
\end{equation}

\begin{equation}
\boxed{\text{Distance} = \frac{6}{\sqrt{10}}}
\end{equation}
\end{frame}



\begin{frame}[fragile]
    \frametitle{Python Code}
    \begin{lstlisting}
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# Plane: y - 3z + 6 = 0  => y = 3z - 6
# Create grid for plane
z = np.linspace(-5, 5, 20)
x = np.linspace(-5, 5, 20)
X, Z = np.meshgrid(x, z)
Y = 3*Z - 6

# Create figure
fig = plt.figure(figsize=(10,7))
ax = fig.add_subplot(111, projection='3d')

ax.plot_surface(X, Y, Z, alpha=0.5, color='cyan', rstride=1, cstride=1, edgecolor='k')
\end{lstlisting}
\end{frame}


\begin{frame}[fragile]
    \frametitle{Python Code}
    \begin{lstlisting}
# Plot X-axis (y=0, z=0)
ax.plot([-5,5],[0,0],[0,0], color='red', linewidth=2, label='X-axis')

# Point on X-axis (origin)
origin = np.array([0,0,0])

# Distance point on plane from origin (perpendicular foot)
# Plane: 0*x + 1*y - 3*z + 6 = 0 => normal = (0,1,-3)
normal = np.array([0,1,-3])
d = 6
# Formula for projection of origin onto plane
t = -(np.dot(normal, origin) + d) / np.dot(normal, normal)
foot = origin + t*normal

# Plot perpendicular distance line
ax.plot([origin[0], foot[0]], [origin[1], foot[1]], [origin[2], foot[2]],
\end{lstlisting}
\end{frame}


\begin{frame}[fragile]
    \frametitle{Python Code}
    \begin{lstlisting}
      color='green', linewidth=2, label='Shortest Distance')
# Plot origin and foot point
ax.scatter(*origin, color='red', s=50, label='Origin (on X-axis)')
ax.scatter(*foot, color='blue', s=50, label='Foot of perpendicular')

# Labels
ax.set_xlabel('X-axis')
ax.set_ylabel('Y-axis')
ax.set_zlabel('Z-axis')
ax.set_title('Plane y - 3z + 6 = 0 and Distance from X-axis')
ax.legend()
plt.savefig ("fig8.png") 
plt.show()
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
\frametitle{ C Code}

\begin{lstlisting}

#include <stdio.h>
#include <math.h>

int main() {
    // Coefficients of the final plane: y - 3z + 6 = 0
    double A = 0, B = 1, C = -3, D = 6;

    double x0 = 0, y0 = 0, z0 = 0;

    double numerator = fabs(A*x0 + B*y0 + C*z0 + D);
    double denominator = sqrt(A*A + B*B + C*C);
    double distance = numerator / denominator;

    printf("Equation of the plane: y - 3z + 6 = 0\n");
    printf("Distance of plane from X-axis: %.4f\n", distance);

    return 0;
}
\end{lstlisting}

\end{frame}


\begin{frame}[fragile]
\frametitle{Python and C Code}

\begin{lstlisting}

import ctypes
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D


lib = ctypes.CDLL("./libplane.so")

# Variables to store plane coefficients
a = ctypes.c_double()
b = ctypes.c_double()
c = ctypes.c_double()
d = ctypes.c_double()
\end{lstlisting}

\end{frame}

\begin{frame}[fragile]
\frametitle{Python and C Code}

\begin{lstlisting}

# Call the C function to get coefficients
lib.get_plane(ctypes.byref(a), ctypes.byref(b), ctypes.byref(c), ctypes.byref(d))

# Extract values
a, b, c, d = a.value, b.value, c.value, d.value
print(f"Plane equation: {a}x + {b}y + {c}z + {d} = 0")


x = np.linspace(-5, 5, 30)   # X range
z = np.linspace(-5, 5, 30)   # Z range
X, Z = np.meshgrid(x, z)

# Solve plane eqn for Y:  y = (-ax - cz - d)/b
Y = (-a*X - c*Z - d) / b

\end{lstlisting}

\end{frame}

\begin{frame}[fragile]
\frametitle{Python and C Code}

\begin{lstlisting}
fig = plt.figure(figsize=(8,6))
ax = fig.add_subplot(111, projection="3d")

ax.plot_surface(X, Y, Z, alpha=0.5, color="cyan", label="Plane")

ax.plot([-5, 5], [0, 0], [0, 0], color="red", linewidth=3, label="X-axis")

# Take a point on X-axis (0,0,0)
P = np.array([0,0,0])

# Formula: foot of perpendicular from point to plane
num = a*P[0] + b*P[1] + c*P[2] + d
den = a*a + b*b + c*c

Px = P[0] - a*num/den
Py = P[1] - b*num/den
Pz = P[2] - c*num/den
\end{lstlisting}

\end{frame}

\begin{frame}[fragile]
\frametitle{Python and C Code}

\begin{lstlisting}

# Plot distance line
ax.plot([P[0], Px], [P[1], Py], [P[2], Pz],
        color="black", linewidth=3, label="Shortest distance")

# Mark points
ax.scatter(P[0], P[1], P[2], color="red", s=50, label="Origin (on X-axis)")
ax.scatter(Px, Py, Pz, color="blue", s=50, label="Foot on Plane")

ax.set_xlabel("X-axis")
ax.set_ylabel("Y-axis")
ax.set_zlabel("Z-axis")
ax.set_title("Plane y - 3z + 6 = 0 and Distance from X-axis")
ax.legend()

plt.show()
\end{lstlisting}

\end{frame}
\end{document}

